var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;import{o as l,c as s,a as n,t as a,r as o,b as u,d as i,e as c,F as d,f as b,n as m,u as p,g,h,i as v,p as f,j as w,k as y,m as k,l as _,w as $,q as j}from"./vendor.4ac65fba.js";const C={class:"card"},x={class:"card-body d-flex flex-column align-items-center justify-content-center"},D={class:"card-title display-6"},O=n("div",{style:{"margin-top":"2rem"}},null,-1),I={props:{title:String,description:String},setup:e=>(t,r)=>(l(),s("div",C,[n("div",x,[n("h1",D,a(e.title),1),n("p",null,a(e.description),1),O,o(t.$slots,"default")])]))},L=u({state:{problems:{}}});function S(e){switch(e){case 0:return"rgb(45, 45, 45)";case 1:return"rgb(157, 73, 0)";case 2:return"rgb(165, 79, 0)";case 3:return"rgb(173, 86, 0)";case 4:case 5:return"rgb(181, 93, 10)";case 6:return"rgb(56, 84, 110)";case 7:return"rgb(61, 90, 116)";case 8:return"rgb(67, 95, 122)";case 9:return"rgb(73, 101, 128)";case 10:return"rgb(78, 106, 134)";case 11:return"rgb(210, 133, 0)";case 12:return"rgb(223, 143, 0)";case 13:return"rgb(236, 154, 0)";case 14:return"rgb(249, 165, 24)";case 15:return"rgb(255, 176, 40)";case 16:return"rgb(0, 199, 139)";case 17:return"rgb(0, 212, 151)";case 18:return"rgb(39, 226, 164)";case 19:return"rgb(62, 240, 177)";case 20:return"rgb(81, 253, 189)";case 21:return"rgb(0, 158, 229)";case 22:return"rgb(0, 169, 240)";case 23:return"rgb(0, 180, 252)";case 24:return"rgb(43, 191, 255)";case 25:return"rgb(65, 202, 255)";case 26:return"rgb(224, 0, 76)";case 27:return"rgb(234, 0, 83)";case 28:return"rgb(245, 0, 90)";case 29:return"rgb(255, 0, 98)";case 30:return"rgb(255, 48, 113)"}}const A={class:"table table-sm table-nonfluid table-borderless table-tiled text-center"},E=n("th",{scope:"col",style:{width:"8rem"}},"아이디",-1),P=["href","title"],B=n("th",{scope:"col",style:{width:"2rem"}},"∑",-1),N=["href"],q=["href"],F={props:{competition:Object,submissions:Array},setup(o){const u=o,{competition:v,submissions:f}=i(u),w=L.state.problems,y=c({get:()=>Object.entries([...f.value].reverse().reduce(((e,t)=>{var r,l;if(!v.value.problems.includes(t.problemId))return e;const s=new Date(v.value.duration.begin),n=new Date(v.value.duration.end),a=new Date(t.when);if(a<s||n<a)return e;const o=null!=(r=e[t.username])?r:e[t.username]={username:t.username,solvedCount:0},u=null!=(l=o[t.problemId])?l:o[t.problemId]={solved:!1,trial:0};return!1===u.solved&&("AC"===t.resultCode?(u.solved=!0,u.trial+=1,o.solvedCount+=1):u.trial+=1),e}),{})).map((([,e])=>e)).sort(((e,t)=>t.solvedCount-e.solvedCount))});return(o,u)=>(l(),s("table",A,[n("thead",null,[n("tr",null,[E,(l(!0),s(d,null,b(p(v).problems,((e,t)=>(l(),s("th",{scope:"col",style:m([{width:"2rem","background-color":"black"},{backgroundColor:e in p(w)?p(S)(p(w)[e].tier):""}]),key:e},[n("a",{href:`https://www.acmicpc.net/problem/${e}`,target:"_blank",title:e},a(t+1),9,P)],4)))),128)),B])]),n("tbody",null,[(l(!0),s(d,null,b(p(y),(o=>{var u=o,{username:i,solvedCount:c}=u,m=((l,s)=>{var n={};for(var a in l)t.call(l,a)&&s.indexOf(a)<0&&(n[a]=l[a]);if(null!=l&&e)for(var a of e(l))s.indexOf(a)<0&&r.call(l,a)&&(n[a]=l[a]);return n})(u,["username","solvedCount"]);return l(),s("tr",{key:i},[n("td",null,[n("a",{href:`https://www.acmicpc.net/user/${i}`,target:"_blank"},a(i),9,N)]),(l(!0),s(d,null,b(p(v).problems.map((e=>[e,m[e]])),(([e,t])=>(l(),s("td",{key:e,class:g({"table-success":!0===(null==t?void 0:t.solved),"table-danger":!1===(null==t?void 0:t.solved)})},[t?(l(),s("a",{key:0,href:`https://www.acmicpc.net/status?problem_id=${e}&user_id=${i}&language_id=-1&result_id=-1&from_problem=1`,target:"_blank"},a(t.trial),9,q)):h("",!0)],2)))),128)),n("td",null,a(c),1)])})),128))])]))}},K=["src"],M={props:{variant:String,tier:String,width:String,height:String},setup:e=>(t,r)=>{var n,a;return l(),s("img",{src:`https://static.solved.ac/tier_${null!=(n=e.variant)?n:"small"}/${null!=(a=e.tier)?a:0}.svg`,style:m(`width: ${e.width||e.height||"1.2rem"}; height: ${e.height||e.width||"1.2rem"}`)},null,12,K)}},z={class:"table table-sm table-nonfluid table-borderless text-center"},G=n("thead",null,[n("tr",null,[n("th",null,"#"),n("th",{scope:"col"},"문제 번호"),n("th",{scope:"col"},"티어"),n("th",{scope:"col"},"문제 이름"),n("th",{scope:"col"},"태그")])],-1),H=["href"],J={style:{"text-align":"left"}},Q=["href"],R={style:{"text-align":"left"}},T={props:{problems:Array},setup(e){const t=L.state.problems;return(r,o)=>(l(),s("table",z,[G,n("tbody",null,[(l(!0),s(d,null,b(e.problems,((e,r)=>{var o,u,i,c,d;return l(),s("tr",{key:e},[n("td",null,a(r+1),1),n("td",null,[n("a",{href:`https://www.acmicpc.net/problem/${e}`,target:"_blank"},a(e),9,H)]),n("td",null,[v(M,{tier:null!=(u=null==(o=p(t)[e])?void 0:o.tier)?u:0},null,8,["tier"])]),n("td",J,[n("a",{href:`https://www.acmicpc.net/problem/${e}`,target:"_blank"},a(null==(i=p(t)[e])?void 0:i.name),9,Q)]),n("td",R,a((null!=(d=null==(c=p(t)[e])?void 0:c.tags)?d:[]).join(" · ")),1)])})),128))])]))}};f("data-v-0962d511");const U={class:"table table-sm table-nonfluid table-borderless"},V=n("thead",null,[n("tr",null,[n("th",{scope:"col"},"제출 번호"),n("th",{scope:"col"},"아이디"),n("th",{scope:"col"},"문제"),n("th",{scope:"col"},"결과"),n("th",{scope:"col"},"메모리"),n("th",{scope:"col"},"시간"),n("th",{scope:"col"},"언어"),n("th",{scope:"col"},"코드 길이"),n("th",{scope:"col"},"제출한 시간")])],-1),W=["href"],X=n("span",{style:{"margin-left":"0.25rem"}},null,-1),Y=["href","title"],Z={key:0},ee={key:0};w();const te={props:{submissions:Array},setup:e=>(t,r)=>(l(),s("table",U,[V,n("tbody",null,[(l(!0),s(d,null,b(e.submissions,(e=>(l(),s("tr",{key:e.id},[n("td",null,a(e.id),1),n("td",null,[n("a",{href:`https://www.acmicpc.net/status?problem_id=${e.problemId}&user_id=${e.username}&language_id=-1&result_id=-1&from_problem=1`,target:"_blank"},a(e.username),9,W)]),n("td",null,[v(M,{tier:e.tier},null,8,["tier"]),X,n("a",{href:`https://www.acmicpc.net/problem/${e.problemId}`,target:"_blank",title:e.problemName},a(e.problemId),9,Y)]),n("td",{class:g(`result-${e.resultCode.toLowerCase()}`)},a(e.resultMessage),3),n("td",null,[y(a(e.memory)+" ",1),null!==e.memory?(l(),s("span",Z,"KB")):h("",!0)]),n("td",null,[y(a(e.time)+" ",1),null!==e.time?(l(),s("span",ee,"ms")):h("",!0)]),n("td",null,a(e.language),1),n("td",null,a(e.length)+" B",1),n("td",null,a(p(k)(e.when).fromNow()),1)])))),128))])])),__scopeId:"data-v-0962d511"};const re={key:0,class:"container"},le=n("div",{style:{"margin-top":"8rem"}},null,-1),se={class:"d-flex justify-content-center"},ne=["onClick"],ae=n("div",{style:{"margin-top":"1.5rem"}},null,-1),oe=n("div",{style:{"margin-top":"5rem"}},null,-1),ue=n("div",{style:{"margin-top":"5rem"}},null,-1),ie=n("div",{style:{"margin-top":"5rem"}},null,-1),ce={setup(e){const[t,r,o,u]=[_(!1),_([]),_([]),_({})];return(async()=>{const[e,l,s]=await Promise.all(["competitions.json","submissions.json","problems.json"].map((async e=>await(await fetch(`https://raw.githubusercontent.com/dalgors/baekjoon/main/${e}`)).json())));l.forEach((e=>{e.when=new Date(e.when)})),e.forEach((e=>{e.duration.begin=new Date(e.duration.begin),e.duration.end=new Date(e.duration.end)})),[r.value,o.value,L.state.problems]=[e,l,s],u.value=r.value[r.value.length-1],t.value=!0})(),(e,i)=>p(t)?(l(),s("div",re,[le,v(I,{title:"Dalgors :: Dashboard",description:"Dalgors :: 동의대 알고리즘 동아리 연습 현황 대시보드입니다."},{default:$((()=>[n("div",se,[(l(!0),s(d,null,b(p(r).slice(p(r).length-2,p(r).length),(e=>(l(),s("button",{class:g(["btn btn-primary mx-1",{active:e.name===p(u).name}]),key:e.name,onClick:t=>u.value=e},a(e.name),11,ne)))),128))]),ae,v(F,{submissions:p(o),competition:p(u)},null,8,["submissions","competition"]),n("h6",null,a(p(k)(p(u).duration.begin).format("LLL"))+" ~ "+a(p(k)(p(u).duration.end).format("LLL")),1)])),_:1}),oe,v(I,{title:"문제 목록",description:`${p(u).name} 연습 문제 목록입니다.`},{default:$((()=>[v(T,{problems:p(u).problems},null,8,["problems"])])),_:1},8,["description"]),ue,v(I,{title:"제출 현황",description:"약 20분 간격으로 갱신됩니다."},{default:$((()=>[v(te,{submissions:p(o)},null,8,["submissions"])])),_:1}),ie])):h("",!0)}};k.locale("ko");const de=j(ce);de.use(L),de.mount("#app");
